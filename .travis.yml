language: python
branches:
  except:
    - /^v(\d+\.)?(\d+\.)?(\*|\d+)$/
before_script:
  - chmod +x semantic_release.sh && ./semantic_release.sh
script:
  - chmod +x build.sh && ./build.sh
  - chmod +x assets_release.sh && ./assets_release.sh
deploy:
  skip_cleanup: true
  provider: packagecloud
  repository: develop
  username: twine
  token:
    secure: "${PACKAGECLOUD_TOKEN}"
  dist: python
  local-dir: src/dist
  on:
    all_branches: true
env:
  global:
    - secure: oyl+danWkBEFsxcO3gowleibznKKaTuoN2w3YxpblHOrpX/0Ye7T06qdnHBfIqDqJpf5KcpnEnQ+IS/K3XsOJrMKsbx5z9XZ06eVUHKFWEc/PJ3mI411/viZFAux/QDB5C3BYce/p7X57XQBwxlIPR9hs7mGkilBSkuiBES+JXGtUFT3KP+PlFv6j+LaPlji4YiycutGy+ckr3v8BM8ppzJGDbBAL0rbOiIiJR0fW/WEqerP8Y6fiy8M2JkksdQoSD6i9TsJrqFlrFz1/kHOqBuqAsw1W9b3YR5VaCH8XnT2FBc9n0ouew/50a9mcLC7kRhWp5HGpgVcThv6tbPO7XN7nTKME+UHoA2kOp+QzLGsvj7o/4CP0MS4zZQJ3wVaKSZIKvcSMOxzVMvsyV+Aueu2x++kyru6grAyycIcs68VNxraGxaFIFONkBI96KkNNQMdWMTGMcxFjYOXbWRjKJGwt/bgFLVdZOm0oFmYOR5J99WF+Odd6BzB2t6iWncGfF8hfn7u70ZdUl1Ah3nc8aCxe5OmALYZO32amfJkaHQgDqjDiwsvMZVaRRhvhccc2MuBmcwS4Cq2ZWbCBkFSQhQykbLjoLi31HTmcFYuInyYYuLw4y9triJZi64PPMFks/F06+OOiSE2IwYBND3Q45TMbtrKToLIgCzLNcP5KF4=
    - secure: mdJPxYwUpaSxIc8TXUr0JhGx9Bh5CXyAL2EL4TIp44DAdUGLYh9Sxf6X4dAMI/ni/inrZI+5I4bj09rnUofzyE1zNjO6FDBl64z+e1HdPTWftuuuA64jPl5eB1HvKCPtfdr10nXmNqRi7rSdz5jV1F9F2qILm7Vt2jLz86DiGR0bJnMs+TATbPoXOzON1hxVDkixHPOPsV+rUSwgQ6LNQL6IpxRjUw06zL78snHq/N7l+Q6QrM4oJRJsHdO03fYZo0J6izsGxEI56ZqIx6GxLmNFJ8OSJjKCb3g1y4owNy7tNJV3V4YjJUfBISaZkbKmQe2sdCyTtJg9X3Y5dBGUXGZYpbq5Xtngp3PwQmZYOVrAkytKyXDtHmHN7IkNOOOafZ683KuaIBGsZsk9VNbzvjZNO7MJ9x1YfeyHiK/LcdGqblmkhfFPJwtAgUaL9ZajuPtgpxfoyyGyCvIHHF78542O3fRSA19+DNvFWmnHQShBzTIiT2d0MWAiiJCtr5cTFIqXqJaR9SpjADo5lKl2mneOP3gLIh8J6J+fFKBDqgLuvV/6CjiTF/8CGLR8XZmgRe2B0NpqA+ReY1PJ02o9teDW80xX9Tn3YwxwEUimRb42033gfeo/72RXaTtbf4E0TxWbeGK5azcysaFbtrLkHLZCbW6BU7FjL4pwsp8B6gE=
